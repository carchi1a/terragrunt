---
title: run
description: Run a command against a stack of units defined in a terragrunt.stack.hcl file.
slug: docs/reference/cli/commands/stack/run
sidebar:
  order: 5
  badge:
    text: exp
    variant: tip
---

import { FileTree } from '@astrojs/starlight/components';
import Command from '@components/Command.astro';

<Command name="stack-run">

## Run the units in a stack

```hcl
# terragrunt.stack.hcl

unit "mother" {
	source = "units/chicken"
	path   = "mother"
}

unit "father" {
	source = "./units/chicken"
	path   = "father"
}

unit "chick_1" {
	source = "./units/chick"
	path   = "chicks/chick-1"
}

unit "chick_2" {
	source = "units/chick"
	path   = "chicks/chick-2"
}
```

Running the following:

```bash
terragrunt stack run plan
```

Generates the following stack:

<FileTree>

- terragrunt.stack.hcl
- .terragrunt-stack
  - mother
    - terragrunt.hcl
  - father
    - terragrunt.hcl
  - chicks
    - chick-1
      - terragrunt.hcl
    - chick-2
      - terragrunt.hcl

</FileTree>

Then runs the `plan` command against each unit in the stack in the order of their dependencies.

It is equivalent to running the following:

```bash
terragrunt stack generate
terragrunt run --all --working-dir .terragrunt-stack plan
```

</Command>
