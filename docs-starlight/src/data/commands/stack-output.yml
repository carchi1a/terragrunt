name: stack output
usage: |
  Aggregate the outputs of all units in a stack as a single output.
experiment:
  control: stacks
  name: Stacks
flags:
  - name: format
    description: "Stack output format. Valid values are: json, raw"
    type: string
    env:
      - TG_FORMAT
  - name: json
    description: "Stack output in json format. Alias for --format json"
    type: bool
    env:
      - TG_JSON
  - name: raw
    description: "Stack output in raw format. Alias for --format raw"
    type: bool
    env:
      - TG_RAW
examples:
  - description: |
      Executing output in a stack directory produces aggregated output from all units within the stack:
    code: |
      $ terragrunt stack output
      service.output1 = "output1"
      service.output2 = "output2"
      db.output1 = "output1"
      db.output2 = "output2"

